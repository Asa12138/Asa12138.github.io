<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Visualization | MetaNet Tutorial</title>
  <meta name="description" content="This is a tutorial for the network analysis R package MetaNet." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Visualization | MetaNet Tutorial" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a tutorial for the network analysis R package MetaNet." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Visualization | MetaNet Tutorial" />
  
  <meta name="twitter:description" content="This is a tutorial for the network analysis R package MetaNet." />
  

<meta name="author" content="Peng Chen" />


<meta name="date" content="2023-03-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="manipulation.html"/>
<link rel="next" href="topology.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="libs/d3-4.5.0/d3.min.js"></script>
<script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MetaNet tutorial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#install"><i class="fa fa-check"></i><b>1.1</b> Install</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#network"><i class="fa fa-check"></i><b>2.1</b> Network</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#network-in-omics"><i class="fa fa-check"></i><b>2.2</b> Network in omics</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#software"><i class="fa fa-check"></i><b>2.3</b> Software</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#metanet"><i class="fa fa-check"></i><b>2.4</b> MetaNet</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="construction.html"><a href="construction.html"><i class="fa fa-check"></i><b>3</b> Construction</a>
<ul>
<li class="chapter" data-level="3.1" data-path="construction.html"><a href="construction.html#normalization"><i class="fa fa-check"></i><b>3.1</b> Pre-processing</a></li>
<li class="chapter" data-level="3.2" data-path="construction.html"><a href="construction.html#pairwise-relationship"><i class="fa fa-check"></i><b>3.2</b> Pairwise relationship</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="construction.html"><a href="construction.html#correlation"><i class="fa fa-check"></i><b>3.2.1</b> Correlation</a></li>
<li class="chapter" data-level="3.2.2" data-path="construction.html"><a href="construction.html#distance"><i class="fa fa-check"></i><b>3.2.2</b> Distance</a></li>
<li class="chapter" data-level="3.2.3" data-path="construction.html"><a href="construction.html#sparcc"><i class="fa fa-check"></i><b>3.2.3</b> SparCC</a></li>
<li class="chapter" data-level="3.2.4" data-path="construction.html"><a href="construction.html#others"><i class="fa fa-check"></i><b>3.2.4</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="construction.html"><a href="construction.html#build-network"><i class="fa fa-check"></i><b>3.3</b> Build network</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="construction.html"><a href="construction.html#normally-build"><i class="fa fa-check"></i><b>3.3.1</b> Normally build</a></li>
<li class="chapter" data-level="3.3.2" data-path="construction.html"><a href="construction.html#multi-tables"><i class="fa fa-check"></i><b>3.3.2</b> Multi-tables</a></li>
<li class="chapter" data-level="3.3.3" data-path="construction.html"><a href="construction.html#edgelist"><i class="fa fa-check"></i><b>3.3.3</b> Edgelist</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="construction.html"><a href="construction.html#rmt-optimize"><i class="fa fa-check"></i><b>3.4</b> RMT optimize</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="manipulation.html"><a href="manipulation.html"><i class="fa fa-check"></i><b>4</b> Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="manipulation.html"><a href="manipulation.html#annotation"><i class="fa fa-check"></i><b>4.1</b> Annotation</a></li>
<li class="chapter" data-level="4.2" data-path="manipulation.html"><a href="manipulation.html#filter-sub-net"><i class="fa fa-check"></i><b>4.2</b> Filter (Sub-net)</a></li>
<li class="chapter" data-level="4.3" data-path="manipulation.html"><a href="manipulation.html#skeleton"><i class="fa fa-check"></i><b>4.3</b> Skeleton</a></li>
<li class="chapter" data-level="4.4" data-path="manipulation.html"><a href="manipulation.html#export"><i class="fa fa-check"></i><b>4.4</b> Export</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>5</b> Visualization</a>
<ul>
<li class="chapter" data-level="5.1" data-path="visualization.html"><a href="visualization.html#basic-plot"><i class="fa fa-check"></i><b>5.1</b> Basic plot</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="visualization.html"><a href="visualization.html#set-attri"><i class="fa fa-check"></i><b>5.1.1</b> Set attributes</a></li>
<li class="chapter" data-level="5.1.2" data-path="visualization.html"><a href="visualization.html#plot-setting"><i class="fa fa-check"></i><b>5.1.2</b> Plot setting</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="visualization.html"><a href="visualization.html#layout"><i class="fa fa-check"></i><b>5.2</b> Layout</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="visualization.html"><a href="visualization.html#basic-layout"><i class="fa fa-check"></i><b>5.2.1</b> Basic layout</a></li>
<li class="chapter" data-level="5.2.2" data-path="visualization.html"><a href="visualization.html#group-layout"><i class="fa fa-check"></i><b>5.2.2</b> Group layout</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="visualization.html"><a href="visualization.html#other-styles"><i class="fa fa-check"></i><b>5.3</b> Other styles</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="visualization.html"><a href="visualization.html#ggplot"><i class="fa fa-check"></i><b>5.3.1</b> ggplot</a></li>
<li class="chapter" data-level="5.3.2" data-path="visualization.html"><a href="visualization.html#gephi"><i class="fa fa-check"></i><b>5.3.2</b> Gephi</a></li>
<li class="chapter" data-level="5.3.3" data-path="visualization.html"><a href="visualization.html#cytoscape"><i class="fa fa-check"></i><b>5.3.3</b> Cytoscape</a></li>
<li class="chapter" data-level="5.3.4" data-path="visualization.html"><a href="visualization.html#networkd3"><i class="fa fa-check"></i><b>5.3.4</b> NetworkD3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="topology.html"><a href="topology.html"><i class="fa fa-check"></i><b>6</b> Topology</a>
<ul>
<li class="chapter" data-level="6.1" data-path="topology.html"><a href="topology.html#complex-network"><i class="fa fa-check"></i><b>6.1</b> Complex network</a></li>
<li class="chapter" data-level="6.2" data-path="topology.html"><a href="topology.html#topology-indexes"><i class="fa fa-check"></i><b>6.2</b> Topology indexes</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="stability.html"><a href="stability.html"><i class="fa fa-check"></i><b>7</b> Stability</a>
<ul>
<li class="chapter" data-level="7.1" data-path="stability.html"><a href="stability.html#robustness-tests"><i class="fa fa-check"></i><b>7.1</b> Robustness tests</a></li>
<li class="chapter" data-level="7.2" data-path="stability.html"><a href="stability.html#community-stability"><i class="fa fa-check"></i><b>7.2</b> Community stability</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="stability.html"><a href="stability.html#robustness"><i class="fa fa-check"></i><b>7.2.1</b> Robustness</a></li>
<li class="chapter" data-level="7.2.2" data-path="stability.html"><a href="stability.html#vulnerability"><i class="fa fa-check"></i><b>7.2.2</b> Vulnerability</a></li>
<li class="chapter" data-level="7.2.3" data-path="stability.html"><a href="stability.html#cohesion"><i class="fa fa-check"></i><b>7.2.3</b> Cohesion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multi-omics.html"><a href="multi-omics.html"><i class="fa fa-check"></i><b>8</b> multi-omics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="multi-omics.html"><a href="multi-omics.html#case-study"><i class="fa fa-check"></i><b>8.1</b> Case study</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="./" target="blank">Author: Peng Chen</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MetaNet Tutorial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualization" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Visualization<a href="visualization.html#visualization" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>MetaNet supports basic R plot and provides some interfaces for other software (Gephi, Cytoscape, ggplot, networkD3) to do visualization, while there are also a lot of layout methods for better display.</p>
<div id="basic-plot" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Basic plot<a href="visualization.html#basic-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="set-attri" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Set attributes<a href="visualization.html#set-attri" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we mentioned earlier, there are some internal attributes have been set when building network, which are related to the network visualization (Table <a href="#tab:4-attribute"><strong>??</strong></a>). So you can use <code>c_net_set()</code> to custom these attributes fitting to your research needs. Give the network various annotate tables and determine which columns use to set, you can give the columns name (one or more) to <code>vertex_group, vertex_class, vertex_size, edge_type, edge_class, edge_width</code>. Colors, linetypes, shapes and legends will be assigned automatically, just use <code>plot()</code> to get the basic metanet figure.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="visualization.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;multi_test&quot;</span>,<span class="at">package =</span> <span class="st">&quot;MetaNet&quot;</span>)</span>
<span id="cb1-2"><a href="visualization.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;c_net&quot;</span>,<span class="at">package =</span> <span class="st">&quot;MetaNet&quot;</span>)</span>
<span id="cb1-3"><a href="visualization.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#build a multi-network</span></span>
<span id="cb1-4"><a href="visualization.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">multi_net_build</span>(micro,metab,transc)<span class="ot">-&gt;</span>multi1</span>
<span id="cb1-5"><a href="visualization.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#v_group is default, three different table</span></span>
<span id="cb1-6"><a href="visualization.html#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="visualization.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#set vertex_class</span></span>
<span id="cb1-8"><a href="visualization.html#cb1-8" aria-hidden="true" tabindex="-1"></a>multi1<span class="ot">=</span><span class="fu">c_net_set</span>(multi1,micro_g,metab_g,transc_g,<span class="at">vertex_class =</span> <span class="fu">c</span>(<span class="st">&quot;Phylum&quot;</span>,<span class="st">&quot;kingdom&quot;</span>,<span class="st">&quot;type&quot;</span>))</span>
<span id="cb1-9"><a href="visualization.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#set vertex_size</span></span>
<span id="cb1-10"><a href="visualization.html#cb1-10" aria-hidden="true" tabindex="-1"></a>multi1<span class="ot">=</span><span class="fu">c_net_set</span>(multi1,</span>
<span id="cb1-11"><a href="visualization.html#cb1-11" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">data.frame</span>(<span class="st">&quot;Abundance1&quot;</span><span class="ot">=</span><span class="fu">colSums</span>(micro)),</span>
<span id="cb1-12"><a href="visualization.html#cb1-12" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">data.frame</span>(<span class="st">&quot;Abundance2&quot;</span><span class="ot">=</span><span class="fu">colSums</span>(metab)),</span>
<span id="cb1-13"><a href="visualization.html#cb1-13" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">data.frame</span>(<span class="st">&quot;Abundance3&quot;</span><span class="ot">=</span><span class="fu">colSums</span>(transc)),<span class="at">vertex_size =</span><span class="fu">paste0</span>(<span class="st">&quot;Abundance&quot;</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>))</span>
<span id="cb1-14"><a href="visualization.html#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="visualization.html#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(multi1)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:5-basic"></span>
<img src="MetaNet-Tutorial_files/figure-html/5-basic-1.png" alt="Basic plot function" width="672" />
<p class="caption">
Figure 5.1: Basic plot function
</p>
</div>
</div>
<div id="plot-setting" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Plot setting<a href="visualization.html#plot-setting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you want to custom the network plot flexibility, use the <code>c_net_plot()</code> which contains igraph arguments and some other arguments. The arguments of <code>c_net_plot()</code> show in the Table @ref(), some are different to the igraph original definition.</p>
<table>
<caption>
<span id="tab:unnamed-chunk-2">Table 5.1: </span>Description of c_net_plot( ) arguments.
</caption>
<thead>
<tr>
<th style="text-align:left;">
Arguments
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;">
coors
</td>
<td style="text-align:left;">
cooridnates dataframe
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.color
</td>
<td style="text-align:left;background-color: #F2838A !important;">
color of nodes, receive vector (1. length same to number of nodes; 2. length same to numbers of v_class; 3. named verctor like c(A=“red”,B=“blue”))
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex. shape
</td>
<td style="text-align:left;background-color: #F2838A !important;">
shape of nodes, receive vector (1. length same to number of nodes; 2. length same to numbers of v_group; 3. named verctor like c(v_group1=“circle”,B=“square”))shape list: none, circle, square, csquare, rectangle, crectangle, vrectangle, pie, raster, or sphere
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.size
</td>
<td style="text-align:left;background-color: #F2838A !important;">
size of nodes, receive numerical vector (length same to number of nodes)please use mmscale to control vertex.size, don’t be too large.
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
labels_num
</td>
<td style="text-align:left;background-color: #F2838A !important;">
show how many labels,&gt;1 indicates number, &lt;1 indicates fraction ,default: 5, according to the vertex.size
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.label
</td>
<td style="text-align:left;background-color: #F2838A !important;">
the label of nodes, NA indicates no label
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.label.family
</td>
<td style="text-align:left;background-color: #F2838A !important;">
label font family
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.label.font
</td>
<td style="text-align:left;background-color: #F2838A !important;">
label font, 1 plain, 2 bold, 3 italic, 4 bold italic, 5 symbol
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.label.cex
</td>
<td style="text-align:left;background-color: #F2838A !important;">
label size
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.label.dist
</td>
<td style="text-align:left;background-color: #F2838A !important;">
distance from label to nodes
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.label.degree
</td>
<td style="text-align:left;background-color: #F2838A !important;">
0:right, pi: left, pi/2:below, -pi/2:above
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
vertex.frame.color
</td>
<td style="text-align:left;background-color: #F2838A !important;">
color of nodes frame
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
plot_module
</td>
<td style="text-align:left;background-color: #F2838A !important;">
use module as the v_class
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
mark_groups
</td>
<td style="text-align:left;background-color: #F2838A !important;">
logical, mark the modules?
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #F2838A !important;">
mark_color
</td>
<td style="text-align:left;background-color: #F2838A !important;">
color of mark.groups
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.color
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
color of edges, receive vector (1. length same to number of edges; 2. length same to numbers of e_type; 3. named verctor like c(A=“red”,B=“blue”))
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.width
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
width of edge, receive numerical vector (length same to number of edges)please use mmscale to control vertex.size, don’t be too large.
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.lty
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
linetype of edge, receive vector (1. length same to number of edges; 2. length same to numbers of e_class; 3. named verctor like c(A=“red”,B=“blue”))
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.arrow.size
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
arrow size for directed network
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.arrow.width
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
arrow width for directed network
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
arrow.mode
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
arrow mode, 0 no arrow, 1 back, 2 forward, 3 both
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.label
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
the label of edges, NA indicates no label
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.label.family
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
label font family
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.label. font
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
label font, 1 plain, 2 bold, 3 italic, 4 bold italic, 5 symbol
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.label.cex
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
label size
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.label.x
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
label x-axis
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.label.y
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
label y-axis
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.label.color
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
label color
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89F5BD !important;">
edge.curved
</td>
<td style="text-align:left;background-color: #89F5BD !important;">
The curvature of the body, on a scale of 0-1, FALSE means 0, TRUE means 0.5
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
legend
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
show any legend? FALSE means close all legends
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
legend_cex
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
character expansion factor relative to current par(‘cex’), default: 1
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
legend_position
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
legend_position, default: c(left_leg_x=-1.9,left_leg_y=1,right_leg_x=1.2,right_leg_y=1)
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
legend_number
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
add numbers in legend? (v_class number, e_type number…)
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
lty_legend, lty_legend_title
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
show lty_legend? and the title
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
size_legend, size_legend_tiltle
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
show size_legend? and the title
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
edge_legend, edge_legend_title, edge_legend_order
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
show edge_legend? and the title, the order of legend receives a vector
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
width_legend, width_legend_title
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
show width_legend? and the title
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
col_legend, col_legend_order
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
show col_legend? and the title, the order of legend receives a vector
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #EEF5A6 !important;">
group_legend_title, group_legend_order
</td>
<td style="text-align:left;background-color: #EEF5A6 !important;">
the title of group, the order of legend receives a vector
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89BCF5 !important;">
margin
</td>
<td style="text-align:left;background-color: #89BCF5 !important;">
margin, a vector whose length =4
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89BCF5 !important;">
rescale
</td>
<td style="text-align:left;background-color: #89BCF5 !important;">
scale the coors to [-1,1], default T
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89BCF5 !important;">
asp
</td>
<td style="text-align:left;background-color: #89BCF5 !important;">
y/x ratio
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89BCF5 !important;">
frame
</td>
<td style="text-align:left;background-color: #89BCF5 !important;">
if T, add frame
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89BCF5 !important;">
main
</td>
<td style="text-align:left;background-color: #89BCF5 !important;">
the main title of graph
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89BCF5 !important;">
sub
</td>
<td style="text-align:left;background-color: #89BCF5 !important;">
subtitle
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;background-color: #89BCF5 !important;">
xlab
</td>
<td style="text-align:left;background-color: #89BCF5 !important;">
x-axis label
</td>
</tr>
<tr>
<td style="text-align:left;width: 5em; font-weight: bold;border-right:1px solid;">
ylab
</td>
<td style="text-align:left;">
y-axis label
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="layout" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Layout<a href="visualization.html#layout" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Layout is an important part of network visualization, a good layout will present information clearly. So, in MetaNet, we always use a dataframe to store the coordinates of a layout. <code>coors</code> is a three-columns dataframe contains <code>name, X, Y</code>.</p>
<div id="basic-layout" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Basic layout<a href="visualization.html#basic-layout" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use <code>c_net_lay()</code> to get coordinates with specific layout methods. The method can be one of <code>as_line(), as_arc(), as_polygon(), as_polyarc()</code>, or other graph layouts in <strong>igraph</strong> like <code>as_star(),  as_tree(),  in_circle(),  nicely(),  on_grid(),  on_sphere(),  randomly(),  with_dh(),  with_fr(),  with_gem(),  with_graphopt(),  with_kk(),  with_lgl(),  with_mds()</code>.</p>
<div class="figure"><span style="display:block;" id="fig:layout-methods"></span>
<img src="MetaNet-Tutorial_files/figure-html/layout-methods-1.png" alt="Layout methods for c_net_lay()" width="960" />
<p class="caption">
Figure 5.2: Layout methods for c_net_lay()
</p>
</div>
<p>And for each method, you can add some arguments in it:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="visualization.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#get a metanet</span></span>
<span id="cb2-2"><a href="visualization.html#cb2-2" aria-hidden="true" tabindex="-1"></a>go<span class="ot">=</span><span class="fu">erdos.renyi.game</span>(<span class="dv">30</span>,<span class="fl">0.25</span>)</span>
<span id="cb2-3"><a href="visualization.html#cb2-3" aria-hidden="true" tabindex="-1"></a>go<span class="ot">=</span><span class="fu">c_net_update</span>(go)</span>
<span id="cb2-4"><a href="visualization.html#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="visualization.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(go,<span class="at">coors=</span><span class="fu">with_fr</span>())</span>
<span id="cb2-6"><a href="visualization.html#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(go,<span class="at">coors=</span><span class="fu">with_fr</span>(<span class="at">niter =</span> <span class="dv">99</span>,<span class="at">grid =</span> <span class="st">&quot;nogrid&quot;</span>))</span></code></pre></div>
<p>The <code>as_polygon()</code> is interesting:</p>
<div class="figure"><span style="display:block;" id="fig:5-multiangle"></span>
<img src="images/4-1.multiangle.gif" alt="Layout of as_polygon() in c_net_lay"  />
<p class="caption">
Figure 5.3: Layout of as_polygon() in c_net_lay
</p>
</div>
</div>
<div id="group-layout" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Group layout<a href="visualization.html#group-layout" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Beside the <code>c_net_lay()</code>, we provide an advanced layout method for a network with group variable: <code>g_lay()</code>. It is easy to use <code>g_lay()</code> to control each group position and layout of each group.</p>
<ul>
<li>First, assign a group variable.</li>
<li>Give a layout1 for group position, one of
1.a dataframe or matrix: rowname is group, two columns are X and Y
2.function: layout method for <code>c_net_lay()</code> default: in_circle()</li>
<li>Adjust the zoom1 of layout1.</li>
<li>Give a layout2 (layout method for <code>c_net_lay()</code>) for each group layout, or use a list contains functions match each group.</li>
<li>Adjust the zoom2 of layout2. you can use a vector to adjust each group zoom.</li>
<li>use show_big_lay = T to look the layout1 distribution.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="visualization.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>))</span>
<span id="cb3-2"><a href="visualization.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#set circle layout</span></span>
<span id="cb3-3"><a href="visualization.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">g_lay</span>(multi1,<span class="at">group =</span><span class="st">&quot;v_group&quot;</span>,<span class="at">layout1 =</span><span class="fu">in_circle</span>(), <span class="at">zoom1=</span><span class="dv">10</span>,<span class="at">layout2 =</span><span class="fu">in_circle</span>(),<span class="at">zoom2 =</span> <span class="dv">5</span>)<span class="ot">-&gt;</span>g_coors</span>
<span id="cb3-4"><a href="visualization.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(multi1,<span class="at">coors=</span>g_coors)</span>
<span id="cb3-5"><a href="visualization.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#set different layout for each group</span></span>
<span id="cb3-6"><a href="visualization.html#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">g_lay</span>(multi1,<span class="at">group =</span><span class="st">&quot;v_group&quot;</span>,<span class="at">layout1 =</span><span class="fu">in_circle</span>(), <span class="at">zoom1=</span><span class="dv">10</span>,<span class="at">layout2 =</span><span class="fu">list</span>(<span class="fu">in_circle</span>(),<span class="fu">with_fr</span>(),<span class="fu">as_polygon</span>()),<span class="at">zoom2 =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)<span class="ot">-&gt;</span>g_coors</span>
<span id="cb3-7"><a href="visualization.html#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(multi1,<span class="at">coors=</span>g_coors)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:5-g-lay"></span>
<img src="MetaNet-Tutorial_files/figure-html/5-g-lay-1.png" alt="Simple usage of g_lay()" width="672" />
<p class="caption">
Figure 5.4: Simple usage of g_lay()
</p>
</div>
<p>As layout1 also receive a matrix or dataframe, so we can use the group skeleton of network to adjust the layout.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="visualization.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">g_lay</span>(co_net,<span class="at">group =</span><span class="st">&quot;v_class&quot;</span>,<span class="at">layout1 =</span><span class="fu">in_circle</span>(), <span class="at">zoom1=</span><span class="dv">10</span>,</span>
<span id="cb4-2"><a href="visualization.html#cb4-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">layout2 =</span><span class="fu">in_circle</span>(),<span class="at">zoom2 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">7</span>))<span class="ot">-&gt;</span>g_coors</span>
<span id="cb4-3"><a href="visualization.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co_net,<span class="at">coors=</span>g_coors)</span>
<span id="cb4-4"><a href="visualization.html#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="visualization.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#firstly get the skeleton plot</span></span>
<span id="cb4-6"><a href="visualization.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">get_group_skeleton</span>(co_net,<span class="st">&quot;v_class&quot;</span>)<span class="ot">-&gt;</span>s_net</span>
<span id="cb4-7"><a href="visualization.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(s_net)<span class="sc">$</span>size<span class="ot">=</span><span class="dv">10</span>;<span class="fu">E</span>(s_net)<span class="sc">$</span>width<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb4-8"><a href="visualization.html#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#then use tkplot to do manual adjustment.</span></span>
<span id="cb4-9"><a href="visualization.html#cb4-9" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">tkplot</span>(s_net)</span>
<span id="cb4-10"><a href="visualization.html#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Here: Move nodes within the tkplot window to a layout you like!</span></span>
<span id="cb4-11"><a href="visualization.html#cb4-11" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">tkplot.getcoords</span>(x)</span>
<span id="cb4-12"><a href="visualization.html#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#close the window</span></span>
<span id="cb4-13"><a href="visualization.html#cb4-13" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">tkplot.close</span>(x)</span>
<span id="cb4-14"><a href="visualization.html#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#pass the da to layout1</span></span>
<span id="cb4-15"><a href="visualization.html#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">g_lay</span>(co_net,<span class="at">group =</span><span class="st">&quot;v_class&quot;</span>,<span class="at">layout1 =</span>da, <span class="at">zoom1=</span><span class="dv">20</span>,</span>
<span id="cb4-16"><a href="visualization.html#cb4-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">layout2 =</span><span class="fu">in_circle</span>(),<span class="at">zoom2 =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>))<span class="ot">-&gt;</span>g_coors</span>
<span id="cb4-17"><a href="visualization.html#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co_net,<span class="at">coors=</span>g_coors)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:5-tkplot-1"></span>
<img src="images/4-3.tkplot1.png" alt="Use tkplot to adjust big layout." width="274" />
<p class="caption">
Figure 5.5: Use tkplot to adjust big layout.
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:5-tkplot-2"></span>
<img src="images/4-2.tkplot.png" alt="Use tkplot to adjust big layout." width="454" />
<p class="caption">
Figure 5.6: Use tkplot to adjust big layout.
</p>
</div>
<p>By the way, <code>g_lay_nice(), g_lay_polyarc(), g_lay_polygon()</code> are also good group layout method.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="visualization.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>))</span>
<span id="cb5-2"><a href="visualization.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">g_lay_nice</span>(co_net,<span class="at">group =</span> <span class="st">&quot;v_class&quot;</span>)<span class="ot">-&gt;</span>g_coors</span>
<span id="cb5-3"><a href="visualization.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co_net,<span class="at">coors=</span>g_coors)</span>
<span id="cb5-4"><a href="visualization.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">g_lay_polyarc</span>(co_net,<span class="at">group =</span> <span class="st">&quot;v_class&quot;</span>,<span class="at">group2_order =</span> <span class="st">&quot;size&quot;</span>)<span class="ot">-&gt;</span>g_coors</span>
<span id="cb5-5"><a href="visualization.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co_net,<span class="at">coors=</span>g_coors)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:5-g-lay-2"></span>
<img src="MetaNet-Tutorial_files/figure-html/5-g-lay-2-1.png" alt="Usage of g_lay_nice() and g_lay_polyarc()" width="672" />
<p class="caption">
Figure 5.7: Usage of g_lay_nice() and g_lay_polyarc()
</p>
</div>
</div>
</div>
<div id="other-styles" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Other styles<a href="visualization.html#other-styles" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="ggplot" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> ggplot<a href="visualization.html#ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you are more familiar with <code>ggplot2</code>, use the function <code>to.ggig()</code> transfer the basic R plot to ggplot2 style, so that you can use some convient function like <code>labs()</code>, <code>theme()</code>, <code>ggsave()</code>, <code>cowplot::plot_grid()</code> to make better figure.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="visualization.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">to.ggig</span>(multi1,<span class="at">coors=</span><span class="fu">c_net_lay</span>(multi1))<span class="ot">-&gt;</span>ggig</span>
<span id="cb6-2"><a href="visualization.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ggig)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:5-ggig"></span>
<img src="MetaNet-Tutorial_files/figure-html/5-ggig-1.png" alt="Plot a network in ggplot2 style" width="672" />
<p class="caption">
Figure 5.8: Plot a network in ggplot2 style
</p>
</div>
</div>
<div id="gephi" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Gephi<a href="visualization.html#gephi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you are dealing with some big dataset, We recommend to use Gephi making layout. We provide a interface to Gephi by <code>graphml</code> format file, you can use the algorithm then export a graphml file.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="visualization.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c_net_save</span>(co_net,<span class="st">&quot;test&quot;</span>,<span class="st">&quot;graphml&quot;</span>)</span>
<span id="cb7-2"><a href="visualization.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">input_gephi</span>(<span class="st">&quot;test2.graphml&quot;</span>)<span class="ot">-&gt;</span>gephi</span>
<span id="cb7-3"><a href="visualization.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c_net_plot</span>(gephi<span class="sc">$</span>go,gephi<span class="sc">$</span>coors)</span></code></pre></div>
</div>
<div id="cytoscape" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Cytoscape<a href="visualization.html#cytoscape" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Cytoscape is also a pretty software for network visualization which contains lots of plugins. Use the “data.frame” format to transfer network.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="visualization.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c_net_save</span>(co_net,<span class="st">&quot;test&quot;</span>,<span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb8-2"><a href="visualization.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c_net_plot</span>(gephi<span class="sc">$</span>go,gephi<span class="sc">$</span>coors)</span></code></pre></div>
</div>
<div id="networkd3" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> NetworkD3<a href="visualization.html#networkd3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>NetworkD3 can produce interactive network plot based on JavaScript, the output object is a htmlwidgets which are suitable for website.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="visualization.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">netD3plot</span>(multi1)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:5-netd3"></span>
<div class="forceNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1b4ff99564eb6e8884a5" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-1b4ff99564eb6e8884a5">{"x":{"links":{"source":[0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,7,7,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,11,11,11,12,12,12,12,13,13,14,14,14,15,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,19,19,19,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,22,22,22,22,22,22,23,23,24,25,26,26,26,26,26,26,26,26,27,27,28,28,29,30,30,30,30,30,31,31,31,31,31,31,31,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,35,35,35,36,36,36,36,37,38,38,38,38,38,38,38,38,38,38,39,40,40,40,41,41,41,41,41,41,41,41,41,41,41,42,43,43,43,43,43,43,43,43,43,43,43,44,44,45,46,47,47,48,49,49,49,49,50,50,50,50,50,50,50,51,51,51,51,51,52,53,53,54,54,54,54,54,55,55,55,55,55,56,56,56,57,58,59,59,60,60,60,60,61,61,61,61,61,61,61,61,63,65,65,65,65,65,65,65,65,66,66,66,66,67,68,68,68,69,69,69,69,70,71,72,72,73,74,75,75,76,77,78,78,79,81,81,83,84,85,85,85,86,87,87,87,88,89,90,91,91,91,93,94,94,95,95,96,96,96,96,98,101,102,106,108,112,113,115,116,116,116,117,127],"target":[14,18,24,34,5,9,17,20,33,38,41,43,54,55,56,61,69,78,83,104,107,115,25,26,27,28,82,104,114,11,53,108,109,82,104,106,9,20,21,26,33,38,41,43,54,61,62,65,69,83,90,112,115,116,13,57,65,94,110,14,24,84,100,133,17,20,22,33,38,41,43,54,55,56,61,69,83,85,90,104,28,40,52,44,53,108,65,74,94,110,47,94,15,24,84,81,27,77,118,22,55,69,78,102,115,125,24,34,47,51,77,88,84,87,133,33,43,46,54,61,63,66,69,83,88,90,26,29,41,115,41,55,61,96,115,129,25,27,94,27,31,41,43,50,73,101,104,121,103,114,40,82,39,51,58,96,116,129,41,43,50,60,79,85,115,53,66,97,38,39,43,54,61,65,69,73,112,36,58,77,126,70,80,111,67,77,86,107,129,43,54,61,65,69,85,94,112,115,116,93,52,80,105,43,50,55,59,61,72,73,90,93,104,115,130,50,54,55,56,61,69,83,86,90,115,119,48,126,63,54,101,121,126,56,66,96,105,53,73,90,101,104,108,132,58,85,96,116,129,80,70,71,61,69,73,83,90,56,61,69,78,107,69,72,78,65,64,93,99,79,116,122,128,65,69,83,86,96,115,116,119,66,70,85,94,96,110,116,124,129,87,96,97,117,86,93,97,134,78,81,83,115,79,79,73,110,132,110,98,121,103,113,115,125,128,86,115,86,100,92,94,116,131,96,117,133,90,129,132,103,105,122,97,96,116,113,123,116,117,124,129,120,135,133,122,109,116,123,116,119,124,129,134,131],"colour":["#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#E85D5D","#E85D5D","#E85D5D","#48A4F0","#E85D5D","#E85D5D","#48A4F0","#48A4F0","#48A4F0","#E85D5D","#E85D5D"]},"nodes":{"name":["s__un_f__Thermomonosporaceae","s__Pelomonas_puraquae","s__Rhizobacter_bergeniae","s__Flavobacterium_terrae","s__un_g__Rhizobacter","s__un_o__Burkholderiales","s__un_g__Streptomyces","s__Lentzea_flaviverrucosa","s__un_g__Actinoplanes","s__un_g__Rhizobium","s__un_g__Noviherbaspirillum","s__un_f__Comamonadaceae","s__Bradyrhizobium_neotropicale","s__Streptomyces_ederensis","s__Actinocorallia_herbida","s__un_g__Amycolatopsis","s__Actinophytocola_burenkhanensis","s__un_p__Proteobacteria","s__Kribbella_catacumbae","s__un_o__Rhizobiales","s__un_g__Sphingomonas","s__Amycolatopsis_keratiniphila_subsp._keratiniphila","s__Kinneretia_asaccharophila","s__un_f__Burkholderiales_incertae_sedis","s__Kineosporia_rhamnosa","s__un_f__Oxalobacteraceae","s__un_g__Bacillus","s__Pseudoduganella_violaceinigra","s__Piscinibacter_aquaticus","s__un_g__Lentzea","s__Steroidobacter_denitrificans","s__Sphingopyxis_soli","s__un_g__Herpetosiphon","s__Phenylobacterium_composti","s__un_f__Micromonosporaceae","s__un_g__Ensifer","s__un_g__Agromyces","s__un_g__Nocardioides","s__un_g__Devosia","s__un_f__Bradyrhizobiaceae","s__Noviherbaspirillum_suwonense","s__un_c__Deltaproteobacteria","s__Kibdelosporangium_phytohabitans","s__Dongia_mobilis","s__un_g__Pseudomonas","s__Pseudoxanthomonas_gei","s__un_f__Xanthomonadaceae","metabolite1","metabolite2","metabolite3","metabolite4","metabolite5","metabolite6","metabolite7","metabolite8","metabolite9","metabolite10","metabolite12","metabolite13","metabolite14","metabolite15","metabolite16","metabolite17","metabolite18","metabolite19","metabolite20","metabolite21","metabolite22","metabolite23","metabolite24","metabolite25","metabolite26","metabolite27","metabolite28","metabolite29","metabolite30","metabolite31","metabolite32","metabolite34","metabolite35","metabolite36","metabolite37","metabolite38","metabolite39","metabolite41","metabolite42","metabolite43","metabolite44","metabolite45","metabolite46","metabolite47","metabolite48","metabolite49","metabolite50","gene1","gene2","gene3","gene5","gene6","gene7","gene8","gene10","gene11","gene12","gene14","gene15","gene18","gene19","gene20","gene21","gene22","gene23","gene24","gene25","gene27","gene28","gene29","gene30","gene32","gene33","gene34","gene35","gene36","gene37","gene38","gene40","gene41","gene42","gene43","gene44","gene45","gene46","gene47","gene48","gene49","gene50"],"group":["p__Actinobacteria","p__Proteobacteria","p__Proteobacteria","p__Bacteroidetes","p__Proteobacteria","p__Proteobacteria","p__Actinobacteria","p__Actinobacteria","p__Actinobacteria","p__Proteobacteria","p__Proteobacteria","p__Proteobacteria","p__Proteobacteria","p__Actinobacteria","p__Actinobacteria","p__Actinobacteria","p__Actinobacteria","p__Proteobacteria","p__Actinobacteria","p__Proteobacteria","p__Proteobacteria","p__Actinobacteria","p__Proteobacteria","p__Proteobacteria","p__Actinobacteria","p__Proteobacteria","p__Firmicutes","p__Proteobacteria","p__Proteobacteria","p__Actinobacteria","p__Proteobacteria","p__Proteobacteria","p__Chloroflexi","p__Proteobacteria","p__Actinobacteria","p__Proteobacteria","p__Actinobacteria","p__Actinobacteria","p__Proteobacteria","p__Proteobacteria","p__Proteobacteria","p__Proteobacteria","p__Actinobacteria","p__Proteobacteria","p__Proteobacteria","p__Proteobacteria","p__Proteobacteria","B","A","A","A","A","A","A","A","A","B","A","A","A","B","A","B","A","A","B","A","A","B","B","B","B","B","B","B","A","B","A","B","B","B","B","A","A","A","B","A","B","A","A","B","B","A","A","D","C","C","C","C","D","C","D","D","D","D","D","C","D","D","C","C","C","D","C","C","D","D","D","D","D","C","C","C","D","C","D","C","D","D","D","C","D","C","D","C","C"],"nodesize":[40,38.6323000116104,25.947985603158,25.789155927087,21.981655636828,17.6314872866597,17.4491272882077,15.5299353690158,14.0739966716978,13.0018963582182,11.6606679825071,11.350361856109,10.7076899260807,9.99883896435621,8.65319865319865,7.94287704632532,7.15755253686288,7.11931576299392,7.02813576376795,6.85312899106003,6.68694608924494,6.55752931615001,6.19427996439491,6.17810286775804,6.13398351329386,6.07956964278803,5.66484771082472,5.62661093695576,5.55601996981307,5.43395642246217,5.42072061612292,5.36630674561709,5.08100158674871,5.0765896513023,5.02070513564767,4.95305545880259,4.58980610704749,4.4471535276133,4.44568288246449,4.40744610859553,4.15302449785208,3.96478191880491,3.89272030651341,3.80006966213863,3.64271063121638,3.59270869615697,3.54711869654398,3.54417740624637,3.46917450365726,3.29269708580053,3.27651998916367,3.26769611827083,3.23828321529471,3.21034095746739,3.06915902318201,3.0662177328844,3.02651031386664,2.97797902395604,2.97209644336081,2.96768450791439,2.96621386276559,2.91621192770618,2.90444676651573,2.88826966987887,2.84267967026588,2.81767870273617,2.77061805797438,2.73238128410542,2.7264987035102,2.70885096172452,2.68090870389721,2.66767289755796,2.65590773636751,2.64561322032586,2.63825999458183,2.59708193041526,2.58531676922482,2.5573745113975,2.54266805990944,2.52354967297496,2.50590193118929,2.47795967336197,2.46913580246914,2.46619451217152,2.39119160958241,2.38089709354077,2.37942644839197,2.37795580324316,2.37648515809435,2.35736677115987,2.34560160996943,2.33383644877898,2.32795386818375,2.30589419095166,2.28677580401718,2.25883354618987,2.25883354618987,2.25295096559464,2.24853903014823,2.24559773985061,2.23971515925539,2.22353806261852,2.22206741746972,2.20441967568404,2.17500677270792,2.15882967607106,2.15000580517822,2.14265257943419,2.11912225705329,2.11618096675568,2.11323967645807,2.11323967645807,2.11029838616045,2.09853322497001,2.09412128952359,2.08823870892836,2.08823870892836,2.08529741863075,2.0720616122915,2.0720616122915,2.06912032199389,2.06617903169627,2.06470838654747,2.06176709624985,2.06176709624985,2.02794225782732,2.0250009675297,2.0235303223809,2.02205967723209,2.01911838693448,2.01176516119045,2.01176516119045,2.00441193544642,2.00441193544642,2.00294129029761,2]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal([`#a6bce3`,`#fb9a99`,`#fdbf6f`,`#1f78b4`,`#b2df8a`,`#cab2d6`,`#33a02c`,`#e31a1c`,`#ff7f00`])","fontSize":7,"fontFamily":"serif","clickTextSize":17.5,"linkDistance":20,"linkWidth":"function(d) { return (d.width); }","charge":-5,"opacity":0.6,"zoom":false,"legend":true,"arrows":false,"nodesize":true,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":false,"opacityNoHover":0,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 5.9: Plot a network in NetworkD3 style
</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="manipulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="topology.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/04-visualization.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
